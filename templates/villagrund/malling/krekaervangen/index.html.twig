{% extends "extends/base.html.twig" %}
{% import "extends/box.html.twig" as box %}
{% import "macros/breadcrumb.html.twig" as breadcrumb %}
{% import "macros/filters.html.twig" as filters %}

{% block title %}Krekærvangen i Malling{% endblock %}

{% block head %}
  {{ parent() }}
  <link rel="stylesheet" href="//unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
{% endblock %}

{% block content %}

  <header class="header-subpage is-villa">
    <div class="header-subpage--info">
      {{ breadcrumb.breadcrumbs([{link: 'villagrund', title: 'Villagrund'}, {link: 'villagrund/malling', title: 'Malling'}], 'is-villa') }}
      <h1 class="header-subpage--title is-villa">
        Krekærvangen
      </h1>
    </div>
  </header>

  <div class="map">
    <div id="mapid" class="map--view"></div>
    {{ filters.mapFilters() }}
  </div>

  <div class="content-boxes">
    <div class="content-box">
      <div class="content-box--inner">
        <div class="content-box--title">
          <h2 class="content-box--title-text">Udbud</h2>
        </div>
        <div class="content-box--content">
          <div class="boxes">
            <div class="boxes--inner">
              {% include 'extends/boxes/villagrund/malling/balskaervej.html.twig' %}
              {% include 'extends/boxes/villagrund/malling/krekaertoften.html.twig' %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    var map;
    var ajaxRequest;
    var plotlist;
    var plotlayers=[];

    // set up the map
    map = new L.Map('mapid', { scrollWheelZoom: false });

    // create the tile layer with correct attribution
    var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
    var osmAttrib='Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors';
    var osm = new L.TileLayer(osmUrl, {minZoom: 8, maxZoom: 18, attribution: osmAttrib});

    var marker = L.marker([56.235337, 10.222778]).addTo(map);
    var marker = L.marker([56.248691, 10.260544]).addTo(map);
    var marker = L.marker([56.165053, 10.130081]).addTo(map);
    var marker = L.marker([56.157406, 10.150681]).addTo(map);
    var marker = L.marker([56.149757, 10.171280]).addTo(map);
    var marker = L.marker([56.037144, 10.194626]).addTo(map);
    var marker = L.marker([56.057144, 10.124626]).addTo(map);

    map.setView(new L.LatLng(56.035660, 10.187073),14);
    map.addLayer(osm);
  </script>

{% endblock %}
